'use client';

import { ProductItemListForSellerType } from '@/components/elements/ProductItem/List/ProductItemListForSeller.type';
import Link from 'next/link';
import { useRouter } from 'next/navigation';
import { useState } from 'react';

export default function ProductItemListForSeller({ _id, category, title, price }: ProductItemListForSellerType) {
  const [visible, setVisible] = useState(true);
  const router = useRouter();

  const toggleVisible = () => {
    setVisible(!visible);
  };

  const getCategoryName = (categoryName: string) => {
    switch (categoryName) {
      case '농작물':
        return 'crop';
      case '체험':
        return 'experience';
      case '텃밭':
        return 'gardening';
      default:
        return 'crop';
    }
  };

  const handleEdit = () => {
    const categoryEng = getCategoryName(category);
    router.push(`/office/products/select/editor/${categoryEng}?_id=${_id}`);
  };

  return (
    <>
      <div className="flex justify-between gap-2 text-[12px] text-oguogu-black">
        {visible ? (
          <>
            <div className="flex-shrink-0 w-[40px]">{category}</div>
            <Link
              href={`/search/result/${_id}/detail`}
              className="flex-1 min-w-0 truncate text-oguogu-black hover:underline"
              aria-label="상품 상세 페이지 이동"
            >
              <h2>{title}</h2>
            </Link>
            <div className="flex-shrink-0 w-[56px]">{price}</div>
          </>
        ) : (
          <>
            <div className="flex-shrink-0 w-[40px] text-oguogu-gray-3">{category}</div>
            <div className="flex-1 min-w-0 truncate text-oguogu-gray-3 ">{title}</div>
            <div className="flex-shrink-0 w-[56px] text-oguogu-gray-3">{price}</div>
          </>
        )}
        {/* // <div className="flex-shrink-0 w-[40px]">{category}</div>
        // <div className="flex-1 min-w-0 truncate ">{title}</div>
        // <div className="flex-shrink-0 w-[56px]">{price}</div> */}
        <div className="flex gap-[2px] flex-shrink-0">
          <button
            onClick={toggleVisible}
            aria-label="상품 보이기/숨기기 토글"
            className="w-[16px] h-[16px] border border-oguogu-gray-2 rounded-[2px] flex items-center justify-center"
          >
            {visible ? (
              <svg
                className="w-[9px] h-[6px]"
                xmlns="http://www.w3.org/2000/svg"
                width="6"
                height="6"
                viewBox="0 0 10 6"
                fill="none"
                aria-label="상품 숨기기 아이콘"
              >
                <path
                  d="M5 1.8C5.32549 1.8 5.63765 1.92643 5.86781 2.15147C6.09797 2.37652 6.22727 2.68174 6.22727 3C6.22727 3.31826 6.09797 3.62348 5.86781 3.84853C5.63765 4.07357 5.32549 4.2 5 4.2C4.67451 4.2 4.36235 4.07357 4.13219 3.84853C3.90203 3.62348 3.77273 3.31826 3.77273 3C3.77273 2.68174 3.90203 2.37652 4.13219 2.15147C4.36235 1.92643 4.67451 1.8 5 1.8ZM5 0C7.04545 0 8.79227 1.244 9.5 3C8.79227 4.756 7.04545 6 5 6C2.95455 6 1.20773 4.756 0.5 3C1.20773 1.244 2.95455 0 5 0ZM1.39182 3C1.72247 3.66012 2.2359 4.2163 2.87374 4.6053C3.51158 4.9943 4.24825 5.20053 5 5.20053C5.75175 5.20053 6.48842 4.9943 7.12626 4.6053C7.7641 4.2163 8.27753 3.66012 8.60818 3C8.27753 2.33988 7.7641 1.7837 7.12626 1.3947C6.48842 1.0057 5.75175 0.799472 5 0.799472C4.24825 0.799472 3.51158 1.0057 2.87374 1.3947C2.2359 1.7837 1.72247 2.33988 1.39182 3Z"
                  fill="black"
                />
              </svg>
            ) : (
              <svg
                className="w-[9px] h-[6px]"
                xmlns="http://www.w3.org/2000/svg"
                width="8"
                height="4"
                viewBox="0 0 8 4"
                fill="none"
                aria-label="상품 보이기 아이콘"
              >
                <path
                  d="M0.0230056 0.52703C0.00410833 0.47625 -0.00326496 0.422572 0.0013229 0.36918C0.00591077 0.315788 0.0223664 0.263768 0.0497141 0.216205C0.0770618 0.168642 0.114745 0.126505 0.160529 0.0922902C0.206313 0.0580758 0.259266 0.0324813 0.316248 0.0170247C0.37323 0.00156796 0.433081 -0.00343632 0.492252 0.00230829C0.551424 0.0080529 0.608711 0.0244295 0.660718 0.0504672C0.712724 0.0765049 0.758391 0.111674 0.79501 0.153888C0.83163 0.196103 0.858456 0.244503 0.873899 0.29622C1.80126 3.09073 6.20065 3.09113 7.1289 0.297821C7.14554 0.247444 7.17304 0.200508 7.20984 0.159695C7.24664 0.118882 7.29201 0.08499 7.34336 0.0599543C7.39472 0.0349186 7.45105 0.0192296 7.50914 0.0137828C7.56723 0.00833598 7.62595 0.0132381 7.68194 0.0282094C7.73792 0.0431807 7.79009 0.0679282 7.83544 0.101038C7.8808 0.134149 7.91847 0.174973 7.94629 0.221181C7.97411 0.26739 7.99155 0.318077 7.9976 0.370348C8.00366 0.42262 7.99821 0.475453 7.98157 0.52583C7.81993 1.02636 7.54558 1.49163 7.17558 1.89269L7.7424 2.40311C7.82338 2.47855 7.86819 2.5796 7.86717 2.68448C7.86616 2.78936 7.81941 2.88969 7.73698 2.96386C7.65456 3.03802 7.54305 3.08009 7.42649 3.081C7.30993 3.08191 7.19763 3.04159 7.11378 2.96873L6.53096 2.44431C6.21647 2.6578 5.86901 2.82881 5.49958 2.95193L5.65829 3.48595C5.67522 3.53717 5.68057 3.59093 5.67403 3.64404C5.66749 3.69716 5.64918 3.74855 5.6202 3.7952C5.59122 3.84184 5.55214 3.88279 5.50528 3.91562C5.45841 3.94845 5.40472 3.97249 5.34735 3.98634C5.28999 4.00019 5.23013 4.00355 5.17129 3.99623C5.11246 3.98891 5.05586 3.97106 5.00482 3.94373C4.95378 3.91641 4.90935 3.88015 4.87414 3.83711C4.83893 3.79408 4.81367 3.74513 4.79983 3.69316L4.63801 3.15034C4.21701 3.20634 3.78668 3.20634 3.36567 3.15034L3.20385 3.69316C3.19002 3.74513 3.16475 3.79408 3.12955 3.83711C3.09434 3.88015 3.0499 3.91641 2.99887 3.94373C2.94783 3.97106 2.89123 3.98891 2.83239 3.99623C2.77356 4.00355 2.7137 4.00019 2.65633 3.98634C2.59897 3.97249 2.54527 3.94845 2.49841 3.91562C2.45155 3.88279 2.41247 3.84184 2.38349 3.7952C2.3545 3.74855 2.3362 3.69716 2.32966 3.64404C2.32312 3.59093 2.32847 3.53717 2.3454 3.48595L2.50411 2.95193C2.13466 2.82869 1.78719 2.65754 1.47273 2.44391L0.890348 2.96873C0.806989 3.04384 0.693883 3.08608 0.575912 3.08616C0.457941 3.08623 0.344768 3.04414 0.261291 2.96913C0.177814 2.89412 0.130871 2.79235 0.130787 2.6862C0.130704 2.58005 0.177488 2.47822 0.260847 2.40311L0.827665 1.89309C0.479127 1.51867 0.20172 1.06305 0.0230056 0.52703Z"
                  fill="black"
                />
              </svg>
            )}
          </button>

          <button
            className="w-[16px] h-[16px] border border-oguogu-main rounded-[2px] flex items-center justify-center"
            aria-label="상품 게시물 수정 아이콘"
            onClick={handleEdit}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="6"
              height="6"
              viewBox="0 0 6 6"
              fill="none"
              aria-label="상품 게시물 수정 아이콘"
            >
              <path
                d="M2.85767 0.284651C3.0155 0.284651 3.14344 0.412594 3.14344 0.570419C3.14344 0.728244 3.0155 0.856186 2.85767 0.856186H0.857302C0.781512 0.856186 0.708848 0.886315 0.655256 0.939907C0.601664 0.993499 0.571535 1.06616 0.571535 1.14195V5.1427C0.571535 5.21849 0.601664 5.29115 0.655256 5.34474C0.708848 5.39834 0.781512 5.42846 0.857302 5.42846H4.85805C4.93384 5.42846 5.0065 5.39834 5.06009 5.34474C5.11368 5.29115 5.14381 5.21849 5.14381 5.1427V3.14233C5.14381 2.9845 5.27176 2.85656 5.42958 2.85656C5.58741 2.85656 5.71535 2.9845 5.71535 3.14233V5.1427C5.71535 5.37007 5.62496 5.58806 5.46419 5.74884C5.30341 5.90961 5.08542 6 4.85805 6H0.857302C0.629932 6 0.411938 5.90961 0.251163 5.74884C0.0903874 5.58806 0 5.37007 0 5.1427V1.14195C0 0.914583 0.0903874 0.696589 0.251163 0.535814C0.411938 0.375039 0.629932 0.284651 0.857302 0.284651H2.85767Z"
                fill="black"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M5.10809 0C5.34461 1.84735e-05 5.57153 0.0939772 5.73879 0.261209C5.90603 0.428468 5.99998 0.655381 6 0.891907C6 1.12845 5.90603 1.35533 5.73879 1.5226L3.16326 4.0987C3.06149 4.20038 2.93548 4.27464 2.7974 4.31498L2.79767 4.31526L1.97665 4.55526C1.90292 4.57675 1.82444 4.57792 1.75005 4.55888C1.67563 4.53982 1.60763 4.50102 1.5533 4.4467C1.49902 4.3924 1.46019 4.3246 1.44112 4.25023C1.42205 4.17579 1.42323 4.0974 1.44474 4.02363L1.68502 3.2026C1.72048 3.08184 1.78199 2.97009 1.86502 2.87609L1.90186 2.83702L4.4774 0.261209L4.50949 0.230791C4.6731 0.0826626 4.88634 6.63021e-06 5.10809 0ZM5.10809 0.571535C5.02314 0.571542 4.94157 0.605249 4.88149 0.665302L2.30595 3.2414C2.27206 3.27523 2.24691 3.31712 2.2334 3.36307L2.06651 3.93321L2.63721 3.7666L2.67098 3.75433C2.70375 3.74009 2.73373 3.71973 2.75916 3.69433L5.3347 1.11851L5.35591 1.09507C5.40264 1.03805 5.42846 0.966276 5.42846 0.891907C5.42845 0.806962 5.39475 0.725377 5.3347 0.665302C5.27462 0.605254 5.19303 0.571553 5.10809 0.571535Z"
                fill="black"
              />
            </svg>
          </button>
        </div>
      </div>
    </>
  );
}
